<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="root"></div>

<!-- 引入本地文件 -->
<script src="../lib/react.js"></script>
<script src="../lib/react-dom.js"></script>
<script src="../lib/babel.js"></script>


<script type="text/babel">
    // // 0. 必须加上type="text/babel",作用是可以让babel解析jsx语法
    // // 编写React代码（jsx语法）
    // // jsx语法 -> 普通的JavaScript代码 --> babel
    // const root = ReactDOM.createRoot(document.querySelector("#root"))

    // // 1.将文本定义成变量
    // let message = "Hello World!"

    // // 2. 监听按钮的点击
    // function btnClick() {
    //     // 1.1 修改数据
    //     message = "Hello React"

    //     root.render((
    //         <div>
    //             <h2>{message}</h2>
    //             <button onClick={btnClick}>修改文本</button>    
    //         </div>
    //     ))
        
    // }

    // rootRender()

    // function rootRender() {

    //     root.render((
    //         <div>
    //             <h2>{message}</h2>
    //             <button onClick={btnClick}>修改文本</button>    
    //         </div>
    //     ))

    // }

// 组件化开发，将组件渲染到界面上
// 使用组件进行重构代码
// 类组件和函数式组件
class App extends React.Component{
    // 1.组件数据
    constructor() {
        super()

        this.state = {
            message: "Hello World"
        }
        // babel会采用 use strict模式，所以this是undefined
        // 对需要绑定的方法，提前绑定好this
        this.btnClick = this.btnClick.bind(this)
    }

    // 2.组件方法(实例方法)

    btnClick() {
        // babel会采用 use strict模式，所以this是undefined
        // 内部完成了两件事：1.将state中的message值修改掉。2.自动重新执行render函数

        this.setState({
            message: "Hello React!"
        })
    }

    // 3.渲染内容 render方法
    render() {
        return (
            <div>
                <h2>{this.state.message}</h2>
                <button onClick={this.btnClick}>修改文本</button>
            </div>
        )
    }

}
const root = ReactDOM.createRoot(document.querySelector('#root'))

root.render(<App/>)
</script>
</body>
</html>